{% extends "base.html" %}
{% load i18n %}
{% load static %}

{% block title %}{% trans "News" %}{% endblock %}

{% block content %}

  <!-- end breadcrumb -->
  <div class="py-0 px-3 mb-3 md:py-6 md:px-0">
    <div class="py-16 md:mx-auto md:w-3/4">
      <h1 class="text-4xl">{{ entry.title }}</h1>
      <p class="mt-0 text-sm font-light">{{ entry.publish_at|date:"M jS, Y" }}</p>

      <!-- Author or Moderator Actions -->
      <div class="space-x-3 text-right">
        {% if not entry.is_approved %}
        <div class="py-2">
          {% if user_can_approve %}
          <form method="POST" action="{% url 'news-approve' entry.slug %}">
            {% csrf_token %}
            <button type="submit" name="approve" class="flex justify-center items-center py-2 px-8 text-base font-medium text-white rounded-md border md:py-4 md:px-4 md:text-lg border-orange bg-orange dark:bg-charcoal dark:text-orange">
              {% translate "Approve" %}
            </button>
            {% if next_url %}
            <input type="hidden" name="next" value="{{ next_url }}" />
            {% endif %}
          </form>
          {% else %}
          <strong>{% translate "Pending Moderation" %}</strong>
          {% endif %}
        </div>
        {% endif %}
        {% if user_can_edit %}
          <a href="{% url 'news-update' entry.slug %}" class="inline-block items-center dark:text-white">
            <i class="fas fa-edit"></i>
          </a>
        {% endif %}
        {% if user_can_delete %}
          <a href="{% url 'news-delete' entry.slug %}" class="inline-block items-center dark:text-white">
            <i class="fas fa-trash-alt"></i>
          </a>
        {% endif %}
      </div>
      <!-- End Actions -->

      {% if entry.external_url %}
      <p>{{ entry.external_url|escape|urlize }}</p>
      {% endif %}

      {% if entry.image %}
      <img src="{{ entry.image.url }}" class="mb-5 w-full h-auto md:float-left md:mr-5 md:w-1/6 md:min-w-[200px]">
      {% endif %}
      {{ entry.content|linebreaks }}

    </div>

    <div class="flex py-3 my-3 space-x-4 border-t border-b border-gray-400 md:mx-auto md:w-3/4">
      <span class="inline-block">Share:</span>
      <img class="inline-block" src="{% static 'img/icons/icon_Facebook-logo.svg' %}" alt="Facebook" />
      <img class="inline-block" src="{% static 'img/icons/icon_Twitter-logo.svg' %}" alt="Twitter" />
      <img class="inline-block" src="{% static 'img/icons/icon_Linkedin-logo.svg' %}" alt="Linkedin" />
      <img class="inline-block" src="{% static 'img/icons/icon_email.svg' %}" alt="Email" />
    </div>

    {% if next or prev %}
    <div class="flex my-16 md:mx-auto md:w-3/4">
      {% if next %}
      <div class="w-1/2 text-left">
        <a href="{{ next.get_absolute_url }}" class="py-2 px-3 text-sm font-medium uppercase bg-gray-300 rounded-md border border-slate">Newer Entries</a>
      </div>
      {% endif  %}
      {% if prev %}
      <div class="w-1/2 text-right">
        <a href="{{ prev.get_absolute_url }}" class="py-2 px-3 text-sm font-medium uppercase bg-gray-300 rounded-md border border-slate">Older Entries</a>
      </div>
      {% endif %}
    </div>
    {% endif %}

  </div>
{% endblock %}
